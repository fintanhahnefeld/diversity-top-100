{"ast":null,"code":"import _slicedToArray from\"/Users/rimbo/Desktop/ironhack/project3/diversity/diversity/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{update}from'../services/users';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Editprofile(props){var _useState=useState(function(){return props?props.user.firstName:'';}),_useState2=_slicedToArray(_useState,2),firstName=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(function(){return props?props.user.lastName:'';}),_useState4=_slicedToArray(_useState3,2),lastName=_useState4[0],setLastName=_useState4[1];var _useState5=useState(function(){return props?props.user.email:'';}),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(function(){return props?props.user.company:'';}),_useState8=_slicedToArray(_useState7,2),company=_useState8[0],setCompany=_useState8[1];var _useState9=useState(function(){return props?props.user.password:'';}),_useState10=_slicedToArray(_useState9,2),password=_useState10[0],setPassword=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),message=_useState12[0],setMessage=_useState12[1];useEffect(function(){console.log(password);setFirstName(props.user.firstName);setLastName(props.user.lastName);setEmail(props.user.email);setCompany(props.user.company);// setId(props.user._id)\n},[props]);var clearAllFields=function clearAllFields(){setMessage('');setFirstName('');setLastName('');setEmail('');setCompany('');setPassword('');};var handleEdit=function handleEdit(e){e.preventDefault();update(props.user._id,email,firstName,lastName,company,password).then(function(response){if(response.message){setMessage(response.message);}else{setPassword('');// we now put the user in the state of App.js\nprops.setUser(response);}});};var style={input:'tw-text-blue-600 tw-border tw-border-blue-600 tw-p-1',label:'tw-text-blue-600 tw-text-xs tw-text-left tw-leading-loose'};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{id:\"editProfile\",className:\"tw-w-full md:tw-w-4/12 tw-px-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"tw-text-blue-600 tw-text-left\",children:\"Edit your profile\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"tw-flex tw-flex-col\",onSubmit:handleEdit,children:[/*#__PURE__*/_jsx(\"label\",{className:style.label,htmlFor:\"firstName\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{className:style.input,type:\"text\",name:\"firstName\",id:\"firstName\",value:firstName,onChange:function onChange(e){return setFirstName(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"label\",{className:style.label,htmlFor:\"firstName\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{className:style.input,type:\"text\",name:\"lastName\",id:\"lastName\",value:lastName,onChange:function onChange(e){return setLastName(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"label\",{className:style.label,htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:style.input,type:\"text\",name:\"email\",id:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"label\",{className:style.label,htmlFor:\"company\",children:\"Company\"}),/*#__PURE__*/_jsx(\"input\",{className:style.input,type:\"text\",name:\"company\",id:\"company\",value:company,onChange:function onChange(e){return setCompany(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:style.label,htmlFor:\"firstName\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:style.input,type:\"password\",id:\"password\",name:\"password\",placeholder:\"\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"tw-bg-yellow-500 tw-text-blue-600 tw-py-5 tw-mt-5 md:tw-w-1/2\",type:\"submit\",children:\"Save Edit\"}),message&&/*#__PURE__*/_jsx(\"h3\",{children:message})]})]})});}","map":{"version":3,"sources":["/Users/rimbo/Desktop/ironhack/project3/diversity/diversity/client/src/components/EditProfile.js"],"names":["React","useState","useEffect","update","Editprofile","props","user","firstName","setFirstName","lastName","setLastName","email","setEmail","company","setCompany","password","setPassword","message","setMessage","console","log","clearAllFields","handleEdit","e","preventDefault","_id","then","response","setUser","style","input","label","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { update } from '../services/users'\n\nexport default function Editprofile(props) {\n  const [firstName, setFirstName] = useState(() => {\n    return props ? props.user.firstName : ''\n  })\n  const [lastName, setLastName] = useState(() => {\n    return props ? props.user.lastName : ''\n  })\n  const [email, setEmail] = useState(() => {\n    return props ? props.user.email : ''\n  })\n  const [company, setCompany] = useState(() => {\n    return props ? props.user.company : ''\n  })\n  const [password, setPassword] = useState(() => {\n    return props ? props.user.password : ''\n  })\n\n  const [message, setMessage] = useState()\n\n  useEffect(() => {\n    console.log(password)\n    setFirstName(props.user.firstName)\n    setLastName(props.user.lastName)\n    setEmail(props.user.email)\n    setCompany(props.user.company)\n    // setId(props.user._id)\n  }, [props])\n\n  const clearAllFields = () => {\n    setMessage('')\n    setFirstName('')\n    setLastName('')\n    setEmail('')\n    setCompany('')\n    setPassword('')\n  }\n\n  const handleEdit = (e) => {\n    e.preventDefault()\n    update(props.user._id, email, firstName, lastName, company, password).then(\n      (response) => {\n        if (response.message) {\n          setMessage(response.message)\n        } else {\n          setPassword('')\n          // we now put the user in the state of App.js\n          props.setUser(response)\n        }\n      }\n    )\n  }\n\n  const style = {\n    input: 'tw-text-blue-600 tw-border tw-border-blue-600 tw-p-1',\n    label: 'tw-text-blue-600 tw-text-xs tw-text-left tw-leading-loose',\n  }\n\n  return (\n    <>\n      <div id='editProfile' className='tw-w-full md:tw-w-4/12 tw-px-5'>\n        <h1 className='tw-text-blue-600 tw-text-left'>Edit your profile</h1>\n        <form className='tw-flex tw-flex-col' onSubmit={handleEdit}>\n          <label className={style.label} htmlFor='firstName'>\n            First Name\n          </label>\n          <input\n            className={style.input}\n            type='text'\n            name='firstName'\n            id='firstName'\n            value={firstName}\n            onChange={(e) => setFirstName(e.target.value)}\n            required\n          />\n          <label className={style.label} htmlFor='firstName'>\n            Last Name\n          </label>\n          <input\n            className={style.input}\n            type='text'\n            name='lastName'\n            id='lastName'\n            value={lastName}\n            onChange={(e) => setLastName(e.target.value)}\n            required\n          />\n          <label className={style.label} htmlFor='email'>\n            Email\n          </label>\n          <input\n            className={style.input}\n            type='text'\n            name='email'\n            id='email'\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n          />\n          <label className={style.label} htmlFor='company'>\n            Company\n          </label>\n          <input\n            className={style.input}\n            type='text'\n            name='company'\n            id='company'\n            value={company}\n            onChange={(e) => setCompany(e.target.value)}\n          />\n          <label className={style.label} htmlFor='firstName'>\n            Password\n          </label>\n          <input\n            className={style.input}\n            type='password'\n            id='password'\n            name='password'\n            placeholder=''\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n          />\n          <button\n            className='tw-bg-yellow-500 tw-text-blue-600 tw-py-5 tw-mt-5 md:tw-w-1/2'\n            type='submit'\n          >\n            Save Edit\n          </button>\n          {message && <h3>{message}</h3>}\n        </form>\n      </div>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}