{"ast":null,"code":"import _classCallCheck from\"/Users/rimbo/Desktop/ironhack/project3/diversity/diversity/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rimbo/Desktop/ironhack/project3/diversity/diversity/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/rimbo/Desktop/ironhack/project3/diversity/diversity/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/rimbo/Desktop/ironhack/project3/diversity/diversity/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import CompanyRow from'./CompanyRow';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var CompaniesList=/*#__PURE__*/function(_Component){_inherits(CompaniesList,_Component);var _super=_createSuper(CompaniesList);function CompaniesList(){var _this;_classCallCheck(this,CompaniesList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={displayAll:false};_this.clickHandler=function(){console.log('click');_this.setState(function(state){return{displayAll:!_this.state.displayAll};});};return _this;}_createClass(CompaniesList,[{key:\"render\",value:function render(){//THIS IS THE LOGIC TO CALCULATE THE TOP 100\nvar top100=this.props.companies.sort(function(a,b){var aAvg=(a.diversity_total+a.growth_score+a.opportunity_score)/3;var bAvg=(b.diversity_total+b.growth_score+b.opportunity_score)/3;if(aAvg>bAvg){return-1;}if(aAvg<bAvg){return 1;}return 0;}).splice(0,this.state.displayAll?100:10);return/*#__PURE__*/_jsxs(\"div\",{children:[top100.map(function(company){return/*#__PURE__*/_jsx(Link,{to:\"/companies/\".concat(company._id),children:/*#__PURE__*/_jsx(CompanyRow,{company:company})});}),this.state.displayAll===false&&/*#__PURE__*/_jsx(\"button\",{onClick:this.clickHandler,className:\"tw-text-imagineText tw-object-left\",children:\"see more\"}),this.state.displayAll===true&&/*#__PURE__*/_jsx(\"button\",{onClick:this.clickHandler,className:\"tw-text-imagineText tw-object-left\",children:\"see less\"})]});}}]);return CompaniesList;}(Component);export default CompaniesList;","map":{"version":3,"sources":["/Users/rimbo/Desktop/ironhack/project3/diversity/diversity/client/src/components/CompaniesList.js"],"names":["React","Component","CompanyRow","Link","CompaniesList","state","displayAll","clickHandler","console","log","setState","top100","props","companies","sort","a","b","aAvg","diversity_total","growth_score","opportunity_score","bAvg","splice","map","company","_id"],"mappings":"gkBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAGA,UAAaC,CAAAA,aAAb,uVAEEC,KAFF,CAEU,CACNC,UAAU,CAAE,KADN,CAFV,OAMEC,YANF,CAMiB,UAAM,CACnBC,OAAO,CAACC,GAAR,CAAY,OAAZ,EACA,MAAKC,QAAL,CAAc,SAACL,KAAD,QAAY,CACxBC,UAAU,CAAE,CAAC,MAAKD,KAAL,CAAWC,UADA,CAAZ,EAAd,EAGD,CAXH,+DAaE,iBAAS,CACP;AACA,GAAMK,CAAAA,MAAM,CAAG,KAAKC,KAAL,CAAWC,SAAX,CAAqBC,IAArB,CAA0B,SAACC,CAAD,CAAIC,CAAJ,CAAU,CACjD,GAAIC,CAAAA,IAAI,CAAG,CAACF,CAAC,CAACG,eAAF,CAAoBH,CAAC,CAACI,YAAtB,CAAqCJ,CAAC,CAACK,iBAAxC,EAA6D,CAAxE,CACA,GAAIC,CAAAA,IAAI,CAAG,CAACL,CAAC,CAACE,eAAF,CAAoBF,CAAC,CAACG,YAAtB,CAAqCH,CAAC,CAACI,iBAAxC,EAA6D,CAAxE,CACA,GAAIH,IAAI,CAAGI,IAAX,CAAiB,CACf,MAAO,CAAC,CAAR,CACD,CACD,GAAIJ,IAAI,CAAGI,IAAX,CAAiB,CACf,MAAO,EAAP,CACD,CACD,MAAO,EAAP,CACC,CAVY,EAUVC,MAVU,CAUH,CAVG,CAUA,KAAKjB,KAAL,CAAWC,UAAX,CAAwB,GAAxB,CAA8B,EAV9B,CAAf,CAaA,mBAEE,uBAEGK,MAAM,CAACY,GAAP,CAAW,SAACC,OAAD,qBACV,KAAC,IAAD,EAAM,EAAE,sBAAgBA,OAAO,CAACC,GAAxB,CAAR,uBACE,KAAC,UAAD,EAAY,OAAO,CAAED,OAArB,EADF,EADU,EAAX,CAFH,CAQG,KAAKnB,KAAL,CAAWC,UAAX,GAA0B,KAA1B,eACC,eAAQ,OAAO,CAAE,KAAKC,YAAtB,CAAoC,SAAS,CAAC,oCAA9C,sBATJ,CAWG,KAAKF,KAAL,CAAWC,UAAX,GAA0B,IAA1B,eACC,eAAQ,OAAO,CAAE,KAAKC,YAAtB,CAAoC,SAAS,CAAC,oCAA9C,sBAZJ,GAFF,CAkBD,CA9CH,2BAAmCN,SAAnC,EAiDA,cAAeG,CAAAA,aAAf","sourcesContent":["import React, { Component } from 'react'\nimport CompanyRow from './CompanyRow'\nimport { Link } from 'react-router-dom';\n\n\nexport class CompaniesList extends Component {\n\n  state = {\n    displayAll: false\n  }\n\n  clickHandler = () => {\n    console.log('click')\n    this.setState((state) => ({\n      displayAll: !this.state.displayAll\n    }))\n  }\n\n  render() {\n    //THIS IS THE LOGIC TO CALCULATE THE TOP 100\n    const top100 = this.props.companies.sort((a, b) => {\n      let aAvg = (a.diversity_total + a.growth_score + a.opportunity_score) / 3;\n      let bAvg = (b.diversity_total + b.growth_score + b.opportunity_score) / 3;\n      if (aAvg > bAvg) {\n        return -1;\n      }\n      if (aAvg < bAvg) {\n        return 1;\n      }\n      return 0;      \n      }).splice(0, this.state.displayAll ? 100 : 10);\n    \n    \n    return (\n      \n      <div >\n        \n        {top100.map((company) => (\n          <Link to={`/companies/${company._id}`}>\n            <CompanyRow company={company} />\n          </Link>\n        ))}\n\n        {this.state.displayAll === false &&\n          <button onClick={this.clickHandler} className=\"tw-text-imagineText tw-object-left\">see more</button>}\n        \n        {this.state.displayAll === true &&\n          <button onClick={this.clickHandler} className=\"tw-text-imagineText tw-object-left\">see less</button>}\n        \n      </div>\n    )\n  }\n}\n\nexport default CompaniesList\n"]},"metadata":{},"sourceType":"module"}