{"ast":null,"code":"import _slicedToArray from\"/Users/rimbo/Desktop/ironhack/project3/diversity/diversity/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Route,Switch}from'react-router-dom';import'./App.css';import Styleguide from'./components/Styleguide';import CompaniesList from'./components/CompaniesList';import Signup from'./components/Signup';import CompanyDetails from'./components/CompanyDetails';import EditProfile from'./components/EditProfile';import Logout from'./components/Logout';import Login from'./components/Login';import Or from'./components/Or';import RegisterUserCompany from'./components/RegisterUserCompany';import UserCompany from'./components/UserCompany';import{getUserCompaniesFromUser}from'./services/userCompanies';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var axios=require('axios');function App(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),companies=_useState2[0],setCompanies=_useState2[1];var _useState3=useState(props.user),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),userCompany=_useState6[0],setUserCompany=_useState6[1];useEffect(function(){axios.get('/api/companies').then(function(response){setCompanies(response.data);}).catch(function(err){console.log(err);});},[]);useEffect(function(){setUser(props.user);},[props.user]);useEffect(function(){if(user){getUserCompaniesFromUser(user._id).then(function(userCompaniesFromDB){// console.log(userCompaniesFromDB[0])\nsetUserCompany(userCompaniesFromDB[0]);});}else{// setUserCompany(null)\n}},[user]);console.log(companies);if(!companies)return/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"});return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsxs(Route,{exact:true,path:\"/\",children:[/*#__PURE__*/_jsx(Logout,{user:user,setUser:setUser}),/*#__PURE__*/_jsx(Login,{user:user,setUser:setUser}),!user&&/*#__PURE__*/_jsx(Or,{}),/*#__PURE__*/_jsx(Signup,{user:user,setUser:setUser}),user&&/*#__PURE__*/_jsx(EditProfile,{user:user,setUser:setUser}),user&&/*#__PURE__*/_jsx(RegisterUserCompany,{setUserCompany:setUserCompany}),userCompany&&/*#__PURE__*/_jsx(UserCompany,{userCompany:userCompany}),/*#__PURE__*/_jsx(CompaniesList,{companies:companies})]}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/styleguide\",children:/*#__PURE__*/_jsx(Styleguide,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/companies/:id\",component:CompanyDetails})]})});// }\n}export default App;","map":{"version":3,"sources":["/Users/rimbo/Desktop/ironhack/project3/diversity/diversity/client/src/App.js"],"names":["React","useState","useEffect","Route","Switch","Styleguide","CompaniesList","Signup","CompanyDetails","EditProfile","Logout","Login","Or","RegisterUserCompany","UserCompany","getUserCompaniesFromUser","axios","require","App","props","companies","setCompanies","user","setUser","userCompany","setUserCompany","get","then","response","data","catch","err","console","log","_id","userCompaniesFromDB"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Route, Switch } from 'react-router-dom'\nimport './App.css'\nimport Styleguide from './components/Styleguide'\nimport CompaniesList from './components/CompaniesList'\nimport Signup from './components/Signup'\nimport CompanyDetails from './components/CompanyDetails'\nimport EditProfile from './components/EditProfile'\nimport Logout from './components/Logout'\nimport Login from './components/Login'\nimport Or from './components/Or'\nimport RegisterUserCompany from './components/RegisterUserCompany'\nimport UserCompany from './components/UserCompany'\nimport { getUserCompaniesFromUser } from './services/userCompanies'\n\nconst axios = require('axios')\n\nfunction App(props) {\n  const [companies, setCompanies] = useState([])\n  const [user, setUser] = useState(props.user)\n  const [userCompany, setUserCompany] = useState()\n\n  useEffect(() => {\n    axios\n      .get('/api/companies')\n      .then((response) => {\n        setCompanies(response.data)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }, [])\n\n  useEffect(() => {\n    setUser(props.user)\n  }, [props.user])\n\n  useEffect(() => {\n    if (user) {\n      getUserCompaniesFromUser(user._id).then((userCompaniesFromDB) => {\n        // console.log(userCompaniesFromDB[0])\n        setUserCompany(userCompaniesFromDB[0])\n      })\n    } else {\n      // setUserCompany(null)\n    }\n  }, [user])\n\n  console.log(companies)\n\n  if (!companies) return <h1>Loading...</h1>\n  return (\n    <div className='App'>\n      <Switch>\n        <Route exact path='/'>\n          <Logout user={user} setUser={setUser} />\n          <Login user={user} setUser={setUser} />\n          {!user && <Or />}\n          <Signup user={user} setUser={setUser} />\n\n          {/* <ProtectedRoute\n          path='/account/edit'\n          user={user}\n          setUser={setUser}\n          component={EditProfile}\n          redirectPath='/'\n        /> */}\n          {user && <EditProfile user={user} setUser={setUser} />}\n          {user && <RegisterUserCompany setUserCompany={setUserCompany} />}\n          {userCompany && <UserCompany userCompany={userCompany} />}\n\n          <CompaniesList companies={companies} />\n        </Route>\n        {/* is it possible to do id param with new syntax? */}\n        {/* <Route exact path='/companies/:id' component={CompanyDetails} /> */}\n        <Route exact path='/styleguide'>\n          <Styleguide />\n        </Route>\n        <Route exact path='/companies/:id' component={CompanyDetails} />\n      </Switch>\n    </div>\n  )\n  // }\n}\nexport default App\n"]},"metadata":{},"sourceType":"module"}