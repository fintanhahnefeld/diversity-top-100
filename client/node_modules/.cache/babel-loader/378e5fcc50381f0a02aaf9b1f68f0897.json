{"ast":null,"code":"import _classCallCheck from\"/Users/rimbo/Desktop/ironhack/project3/diversity/diversity/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rimbo/Desktop/ironhack/project3/diversity/diversity/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/rimbo/Desktop/ironhack/project3/diversity/diversity/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/rimbo/Desktop/ironhack/project3/diversity/diversity/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import Chart from'./Chart.js';import CompanyTable from'./CompanyTable.js';import{LinkedinShareButton,WhatsappShareButton,TwitterShareButton}from'react-share';import{LinkedinIcon,WhatsappIcon,TwitterIcon}from'react-share';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CompanyDetails=/*#__PURE__*/function(_Component){_inherits(CompanyDetails,_Component);var _super=_createSuper(CompanyDetails);function CompanyDetails(props){var _this;_classCallCheck(this,CompanyDetails);_this=_super.call(this,props);_this.getData=function(){axios.get(\"/api/companies/\".concat(_this.props.match.params.id)).then(function(response){// console.log(response.data);\n_this.setState({company:response.data,dataFetched:true// this unsets the flag when the data is available\n// dataRequested: false\n});}).catch(function(err){console.log(err);if(err.response.status===404){_this.setState({error:'Not found 🤷‍♀️🤷‍♂️'});}});};_this.state={company:{},diversityScore:{},dataFetched:false};return _this;}_createClass(CompanyDetails,[{key:\"componentDidMount\",value:function componentDidMount(){this.getData();}},{key:\"render\",value:function render(){if(this.state.dataFetched){console.log('CompanyDetails',this.state.company);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tw-mt-8\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\" \",this.state.company.company_name]}),/*#__PURE__*/_jsx(Chart,{company:this.state.company})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CompanyTable,{company:this.state.company})}),/*#__PURE__*/_jsxs(\"div\",{className:\"tw-flex tw-justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tw-mx-4\",children:/*#__PURE__*/_jsx(LinkedinShareButton,{url:\"https://most-diverse-100.herokuapp.com/companies/\".concat(this.state.company._id),title:\"\".concat(this.state.company,\" is part of the most diverse 100 companies ranking of imagine foundation\"),children:/*#__PURE__*/_jsx(LinkedinIcon,{size:35,round:true})})}),/*#__PURE__*/_jsx(\"div\",{className:\"tw-mx-4\",children:/*#__PURE__*/_jsx(WhatsappShareButton,{url:\"https://most-diverse-100.herokuapp.com/companies/\".concat(this.state.company._id),title:\"\".concat(this.state.company,\" is part of the most diverse 100 companies ranking of imagine foundation\"),children:/*#__PURE__*/_jsx(WhatsappIcon,{size:35,round:true})})}),/*#__PURE__*/_jsx(\"div\",{className:\"tw-mx-4\",children:/*#__PURE__*/_jsx(TwitterShareButton,{url:\"https://most-diverse-100.herokuapp.com/companies/\".concat(this.state.company._id),title:\"\".concat(this.state.company,\" is part of the most diverse 100 companies ranking of imagine foundation\"),children:/*#__PURE__*/_jsx(TwitterIcon,{size:35,round:true})})})]})]});}else{return null;}}}]);return CompanyDetails;}(Component);export{CompanyDetails as default};","map":{"version":3,"sources":["/Users/rimbo/Desktop/ironhack/project3/diversity/diversity/client/src/components/CompanyDetails.js"],"names":["React","Component","axios","Chart","CompanyTable","LinkedinShareButton","WhatsappShareButton","TwitterShareButton","LinkedinIcon","WhatsappIcon","TwitterIcon","CompanyDetails","props","getData","get","match","params","id","then","response","setState","company","data","dataFetched","catch","err","console","log","status","error","state","diversityScore","company_name","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport Chart from './Chart.js';\nimport CompanyTable from './CompanyTable.js';\nimport { LinkedinShareButton, WhatsappShareButton, TwitterShareButton} from 'react-share';\nimport { LinkedinIcon, WhatsappIcon, TwitterIcon } from 'react-share';\n\nexport default class CompanyDetails extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      company: {},\n      diversityScore: {},\n      dataFetched: false,\n    }\n  }\n\n  getData = () => {\n    axios\n      .get(`/api/companies/${this.props.match.params.id}`)\n      .then((response) => {\n        // console.log(response.data);\n        this.setState({\n          company: response.data,\n          dataFetched: true,\n          // this unsets the flag when the data is available\n          // dataRequested: false\n        })\n      })\n      .catch((err) => {\n        console.log(err)\n        if (err.response.status === 404) {\n          this.setState({\n            error: 'Not found 🤷‍♀️🤷‍♂️',\n          })\n        }\n      })\n  }\n\n  componentDidMount() {\n    this.getData()\n  }\n\n  render() {\n    if (this.state.dataFetched) {\n      console.log('CompanyDetails', this.state.company)\n      return (\n        <>\n          <div className='tw-mt-8'>\n            <h1> {this.state.company.company_name}</h1>\n            <Chart company={this.state.company} />\n          </div>\n\n          <div>\n            <CompanyTable company={this.state.company} />\n          </div>\n\n        \n\n          <div className='tw-flex tw-justify-center'>\n          <div className='tw-mx-4'>\n            <LinkedinShareButton\n              url = {\n              `https://most-diverse-100.herokuapp.com/companies/${this.state.company._id}`\n              } \n               title = { `${this.state.company} is part of the most diverse 100 companies ranking of imagine foundation`}\n              >\n              <LinkedinIcon size={35} round={true} />\n              </LinkedinShareButton>\n              </div>\n\n              <div className='tw-mx-4'>\n              <WhatsappShareButton\n              url = {       \n                `https://most-diverse-100.herokuapp.com/companies/${this.state.company._id}`\n              } \n               title = { `${this.state.company} is part of the most diverse 100 companies ranking of imagine foundation`}\n              >\n              <WhatsappIcon size={35} round={true} />\n              </WhatsappShareButton>\n              </div>\n              \n              <div className='tw-mx-4'>\n              <TwitterShareButton\n              url = {\n                `https://most-diverse-100.herokuapp.com/companies/${this.state.company._id}`\n              } \n               title = {`${this.state.company} is part of the most diverse 100 companies ranking of imagine foundation`}\n              >\n              <TwitterIcon size={35} round={true} />\n              </TwitterShareButton>\n              </div>\n\n          </div>\n        </>\n      )\n    } else {\n      return null\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}